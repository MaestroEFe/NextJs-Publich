(()=>{var e={};e.id=5277,e.ids=[5277],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16495:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l}),t(30516),t(6324),t(98355),t(48663);var r=t(91711),a=t(90149),o=t(82226),n=t.n(o),i=t(75394),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let l=["",{children:["(auth)",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,30516)),"/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/(auth)/reset-password/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6324)),"/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/(auth)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,98355,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,48663)),"/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,98355,23)),"next/dist/client/components/not-found-error"]}],u=["/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/(auth)/reset-password/page.tsx"],c="/(auth)/reset-password/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},53640:(e,s,t)=>{Promise.resolve().then(t.bind(t,38726))},25383:(e,s,t)=>{Promise.resolve().then(t.bind(t,26484))},65516:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,67545,23)),Promise.resolve().then(t.t.bind(t,73654,23)),Promise.resolve().then(t.t.bind(t,11104,23)),Promise.resolve().then(t.t.bind(t,2614,23)),Promise.resolve().then(t.t.bind(t,17115,23)),Promise.resolve().then(t.t.bind(t,84452,23))},67258:()=>{},38726:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(60134),a=t(31267),o=t(96791),n=t(86819),i=t(68658),d=t(95626);let l=d.Ry({password:d.Z_().min(6,{message:"Password must be at least 6 characters."}),confirmPassword:d.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function u(){let e=(0,o.useRouter)(),s=(0,o.useSearchParams)().get("token"),[t,d]=(0,a.useState)(null),[u,c]=(0,a.useState)(null),[m,p]=(0,a.useState)(!1),{register:h,handleSubmit:x,formState:{errors:b}}=(0,n.cI)({resolver:(0,i.F)(l)}),w=async t=>{if(!s){d("Cannot reset password without a valid token.");return}p(!0),d(null),c(null);try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,password:t.password})}),a=await r.json();r.ok?(c(a.message),setTimeout(()=>e.push("/login"),3e3)):d(a.message||"An unknown error occurred.")}catch(e){d("Failed to connect to the server. Please try again.")}p(!1)};return u?(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Success!"}),r.jsx("p",{className:"text-gray-700",children:u}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Redirecting to login..."})]}):(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Reset Your Password"}),(0,r.jsxs)("form",{onSubmit:x(w),className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),r.jsx("input",{id:"password",type:"password",...h("password"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),b.password&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.password.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),r.jsx("input",{id:"confirmPassword",type:"password",...h("confirmPassword"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),b.confirmPassword&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.confirmPassword.message})]}),t&&r.jsx("p",{className:"text-sm text-red-600 text-center",children:t}),r.jsx("button",{type:"submit",disabled:m||!s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition duration-300",children:m?"Resetting...":"Reset Password"})]})]})}function c(){return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(a.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(u,{})})})}},26484:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var r=t(60134),a=t(48141);let o=({children:e})=>r.jsx(a.SessionProvider,{children:e})},96791:(e,s,t)=>{"use strict";var r=t(68517);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},6324:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(31837);t(60122);let a=({children:e})=>r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:r.jsx("div",{className:"w-full max-w-md p-8 space-y-8 bg-white shadow-lg rounded-lg",children:e})})},30516:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(71694).createProxy)(String.raw`/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/(auth)/reset-password/page.tsx#default`)},48663:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u,metadata:()=>l});var r=t(31837),a=t(68819),o=t.n(a),n=t(97113),i=t.n(n);t(26751);let d=(0,t(71694).createProxy)(String.raw`/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/contexts/AuthProvider.tsx#default`),l={title:"OrisGate - Your Gateway to Study Abroad",description:"OrisGate helps students study abroad and provides seamless visa processing services. Your journey to international education starts here.",keywords:"study abroad, visa processing, international education, student travel, OrisGate"};function u({children:e}){return r.jsx("html",{lang:"en",className:`${o().variable} ${i().variable}`,children:r.jsx("body",{className:o().className,children:r.jsx(d,{children:e})})})}},26751:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8565,4723,5626,8658],()=>t(16495));module.exports=r})();