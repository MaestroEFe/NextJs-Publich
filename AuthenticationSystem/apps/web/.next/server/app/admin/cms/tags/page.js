(()=>{var e={};e.id=3110,e.ids=[3110],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},61212:e=>{"use strict";e.exports=require("async_hooks")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},84492:e=>{"use strict";e.exports=require("node:stream")},4780:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),s(5405),s(38784),s(48663),s(98355);var r=s(91711),a=s(90149),i=s(82226),n=s.n(i),o=s(75394),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let l=["",{children:["admin",{children:["cms",{children:["tags",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5405)),"/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/admin/cms/tags/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,38784)),"/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,48663)),"/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,98355,23)),"next/dist/client/components/not-found-error"]}],c=["/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/admin/cms/tags/page.tsx"],u="/admin/cms/tags/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/cms/tags/page",pathname:"/admin/cms/tags",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},45205:(e,t,s)=>{Promise.resolve().then(s.bind(s,77715))},77715:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(60134),a=s(31267);function i({initialTags:e}){let[t,s]=(0,a.useState)(e),[i,n]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),u=async e=>{e.preventDefault(),d(!0),c(null);try{let e=await fetch("/api/cms/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i})});if(!e.ok){let t=await e.json();throw Error(t.message||"Failed to create tag")}let r=await e.json();s([...t,r]),n("")}catch(e){c(e.message)}finally{d(!1)}};return(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-6",children:"Manage Tags"}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Add New Tag"}),(0,r.jsxs)("form",{onSubmit:u,children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Name"}),r.jsx("input",{type:"text",id:"name",value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),l&&r.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:o?"Adding...":"Add Tag"})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Existing Tags"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Slug"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.slug})]},e._id))})]})})]})]})}},5405:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(31837),a=s(31872),i=s(4599),n=s(48199);let o=(0,s(71694).createProxy)(String.raw`/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/app/admin/cms/tags/components/TagClient.tsx#default`);async function d(){await (0,i.uD)();try{let e=await n.Vp.find().sort({name:1}).lean();return JSON.parse(JSON.stringify(e))}catch(e){return console.error("Failed to fetch tags:",e),[]}}async function l(){await (0,a.getServerSession)(i.Lz);let e=await d();return r.jsx(o,{initialTags:e})}},48199:(e,t,s)=>{"use strict";s.d(t,{WD:()=>d,SO:()=>c,Vp:()=>n});var r=s(11185),a=s.n(r);let i=new r.Schema({name:{type:String,required:!0,unique:!0,trim:!0},slug:{type:String,unique:!0,index:!0,trim:!0},postType:{type:String,enum:["blog","product","service","page"],required:!0}},{timestamps:!0});i.pre("save",function(e){this.isModified("name")&&(this.slug=this.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")),e()});let n=a().models.Tag||a().model("Tag",i),o=new r.Schema({name:{type:String,required:!0,unique:!0},slug:{type:String,unique:!0,index:!0},description:{type:String},parent:{type:r.Schema.Types.ObjectId,ref:"Category",default:null},postType:{type:String,enum:["blog","product","service","page"],required:!0}},{timestamps:!0});o.pre("save",function(e){this.isModified("name")&&(this.slug=this.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")),e()});let d=a().models.Category||a().model("Category",o),l=new r.Schema({title:{type:String,required:!0,trim:!0},slug:{type:String,trim:!0,unique:!0,index:!0},content:{type:String,required:!0},excerpt:{type:String,trim:!0},featuredImage:{type:String},author:{type:r.Schema.Types.ObjectId,ref:"User",required:!0},status:{type:String,enum:["draft","published","archived"],default:"draft"},postType:{type:String,enum:["blog","product","service","page"],required:!0},tags:[{type:r.Schema.Types.ObjectId,ref:"Tag"}],categories:[{type:r.Schema.Types.ObjectId,ref:"Category"}],meta:{type:r.Schema.Types.Mixed},publishedAt:{type:Date}},{timestamps:!0});l.pre("save",function(e){this.isModified("title")&&(this.slug=this.title.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")),e()});let c=a().models.Post||a().model("Post",l)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8565,4355,4723,1551,1872,7455],()=>s(4780));module.exports=r})();