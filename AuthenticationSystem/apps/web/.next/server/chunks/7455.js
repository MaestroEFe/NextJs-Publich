exports.id=7455,exports.ids=[7455],exports.modules={26869:(e,r,t)=>{Promise.resolve().then(t.bind(t,93721))},25383:(e,r,t)=>{Promise.resolve().then(t.bind(t,26484))},65516:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,67545,23)),Promise.resolve().then(t.t.bind(t,73654,23)),Promise.resolve().then(t.t.bind(t,11104,23)),Promise.resolve().then(t.t.bind(t,2614,23)),Promise.resolve().then(t.t.bind(t,17115,23)),Promise.resolve().then(t.t.bind(t,84452,23))},93721:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var s=t(60134),a=t(48141),n=t(51551),i=t(31267);let o=()=>{let{data:e}=(0,a.useSession)(),[r,t]=(0,i.useState)(!1);return(0,s.jsxs)("nav",{className:"bg-gray-800 p-4",children:[(0,s.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[s.jsx(n.default,{href:"/",className:"text-white text-2xl font-bold",children:"AuthSystem"}),(0,s.jsxs)("div",{className:"hidden md:flex space-x-4",children:[s.jsx(n.default,{href:"/",className:"text-gray-300 hover:text-white",children:"Home"}),e?(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/dashboard",className:"text-gray-300 hover:text-white",children:"Dashboard"}),s.jsx(n.default,{href:"/profile",className:"text-gray-300 hover:text-white",children:"Profile"}),e.user?.group==="admin"&&s.jsx(n.default,{href:"/admin/dashboard",className:"text-gray-300 hover:text-white",children:"Admin"}),s.jsx("button",{onClick:()=>(0,a.signOut)({callbackUrl:"/"}),className:"text-gray-300 hover:text-white",children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/login",className:"text-gray-300 hover:text-white",children:"Login"}),s.jsx(n.default,{href:"/register",className:"text-gray-300 hover:text-white",children:"Register"})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>t(!r),className:"text-white",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:r?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})})]}),r&&(0,s.jsxs)("div",{className:"md:hidden mt-4",children:[s.jsx(n.default,{href:"/",className:"block text-gray-300 hover:text-white py-2",children:"Home"}),e?(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/dashboard",className:"block text-gray-300 hover:text-white py-2",children:"Dashboard"}),s.jsx(n.default,{href:"/profile",className:"block text-gray-300 hover:text-white py-2",children:"Profile"}),e.user?.group==="admin"&&s.jsx(n.default,{href:"/admin/dashboard",className:"block text-gray-300 hover:text-white py-2",children:"Admin"}),s.jsx("button",{onClick:()=>(0,a.signOut)({callbackUrl:"/"}),className:"block text-gray-300 hover:text-white w-full text-left py-2",children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/login",className:"block text-gray-300 hover:text-white py-2",children:"Login"}),s.jsx(n.default,{href:"/register",className:"block text-gray-300 hover:text-white py-2",children:"Register"})]})]})]})}},26484:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});var s=t(60134),a=t(48141);let n=({children:e})=>s.jsx(a.SessionProvider,{children:e})},38784:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(31837),a=t(74066),n=t(31872),i=t(4599),o=t(85);let l=(0,t(71694).createProxy)(String.raw`/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/components/Navbar.tsx#default`);async function d({children:e}){let r=await (0,n.getServerSession)(i.Lz);return r&&r.user&&(0,o.yN)(r.user.group)||(0,a.redirect)("/login"),(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[s.jsx(l,{}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden bg-gray-100 dark:bg-gray-900",children:[(0,s.jsxs)("aside",{className:"w-64 bg-white dark:bg-gray-800 shadow-md overflow-y-auto",children:[s.jsx("div",{className:"p-6",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Admin Panel"})}),(0,s.jsxs)("nav",{className:"mt-6",children:[s.jsx("a",{href:"/admin",className:"block px-6 py-2.5 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:"Dashboard"}),s.jsx("a",{href:"/admin/cms/posts",className:"block px-6 py-2.5 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:"Posts"}),s.jsx("a",{href:"/admin/cms/categories",className:"block px-6 py-2.5 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:"Categories"}),s.jsx("a",{href:"/admin/cms/tags",className:"block px-6 py-2.5 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:"Tags"}),s.jsx("div",{className:"my-4 border-t border-gray-200 dark:border-gray-700"}),s.jsx("h3",{className:"px-6 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Submissions"}),s.jsx("a",{href:"/admin/inquiries",className:"block px-6 py-2.5 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:"Service Inquiries"}),s.jsx("a",{href:"/admin/contacts",className:"block px-6 py-2.5 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:"Contact Messages"})]})]}),s.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:e})]})]})}},48663:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,metadata:()=>d});var s=t(31837),a=t(68819),n=t.n(a),i=t(97113),o=t.n(i);t(26751);let l=(0,t(71694).createProxy)(String.raw`/home/efe/Documents/NextJs/NextJs-Public/AuthenticationSystem/apps/web/contexts/AuthProvider.tsx#default`),d={title:"OrisGate - Your Gateway to Study Abroad",description:"OrisGate helps students study abroad and provides seamless visa processing services. Your journey to international education starts here.",keywords:"study abroad, visa processing, international education, student travel, OrisGate"};function c({children:e}){return s.jsx("html",{lang:"en",className:`${n().variable} ${o().variable}`,children:s.jsx("body",{className:n().className,children:s.jsx(l,{children:e})})})}},4599:(e,r,t)=>{"use strict";t.d(r,{Lz:()=>o,uD:()=>l});var s=t(85);let a=process.env.MONGODB_URI,n=process.env.NEXTAUTH_SECRET,i=process.env.RESEND_API_KEY;if(process.env.EMAIL_FROM,!a)throw Error("Please define the MONGODB_URI environment variable inside .env.local");if(!n)throw Error("Please define the NEXTAUTH_SECRET environment variable inside .env.local");if(!i)throw Error("Please define the RESEND_API_KEY environment variable inside .env.local");let o=(0,s.no)(a,n),l=()=>(0,s.uD)(a)},74066:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=t(39324),a=t(3705);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},3705:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return a},notFound:function(){return s}});let t="NEXT_NOT_FOUND";function s(){let e=Error(t);throw e.digest=t,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},80156:(e,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return t}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(t||(t={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},39324:(e,r,t)=>{"use strict";var s;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return h},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=t(54580),n=t(72934),i=t(80156),o="NEXT_REDIRECT";function l(e,r,t){void 0===t&&(t=i.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+r+";"+e+";"+t+";";let n=a.requestAsyncStorage.getStore();return n&&(s.mutableCookies=n.mutableCookies),s}function d(e,r){void 0===r&&(r="replace");let t=n.actionAsyncStorage.getStore();throw l(e,r,(null==t?void 0:t.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,r){void 0===r&&(r="replace");let t=n.actionAsyncStorage.getStore();throw l(e,r,(null==t?void 0:t.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[r,t,s,a]=e.digest.split(";",4),n=Number(a);return r===o&&("replace"===t||"push"===t)&&"string"==typeof s&&!isNaN(n)&&n in i.RedirectStatusCode}function h(e){return u(e)?e.digest.split(";",3)[2]:null}function m(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},85:(e,r,t)=>{"use strict";t.d(r,{Jp:()=>x,n5:()=>c,uD:()=>n,no:()=>u,yN:()=>h,GJ:()=>m,Cz:()=>p,gV:()=>b});var s=t(11185),a=t.n(s);let n=async e=>{if(a().connections[0].readyState)return!0;try{return await a().connect(e),console.log("MongoDB connected successfully."),!0}catch(e){return console.error("Error connecting to MongoDB:",e),!1}};var i=t(4612),o=t(61343),l=t.n(o);let d=new s.Schema({name:{type:String,required:[!0,"Please provide your name"],trim:!0},email:{type:String,required:[!0,"Please provide your email"],unique:!0,trim:!0,lowercase:!0,match:[/.+@.+\..+/,"Please enter a valid email address"]},password:{type:String,required:[!0,"Please provide a password"],minlength:6,select:!1},group:{type:String,enum:["user","admin"],default:"user"},isVerified:{type:Boolean,default:!1},verificationToken:{type:String,select:!1},verificationTokenExpires:{type:Date,select:!1},passwordResetToken:{type:String,select:!1},passwordResetTokenExpires:{type:Date,select:!1}},{timestamps:!0});d.pre("save",async function(e){if(!this.isModified("password")||!this.password)return e();let r=await l().genSalt(10);this.password=await l().hash(this.password,r),e()}),d.methods.comparePassword=async function(e){return!!this.password&&await l().compare(e,this.password)};let c=a().models.User||a().model("User",d),u=(e,r)=>({providers:[(0,i.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(r){if(await n(e),!r?.email||!r?.password)return null;let t=await c.findOne({email:r.email}).select("+password");return t&&await t.comparePassword(r.password)?{id:t._id.toString(),name:t.name,email:t.email,group:t.group}:null}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.group=r.group),e),session:async({session:e,token:r})=>(e.user&&(e.user.id=r.id,e.user.group=r.group),e)},pages:{signIn:"/login"},secret:r}),h=e=>!!e&&["admin","staff"].includes(e.toLowerCase()),m=e=>e?.user?.group==="admin",f=new(t(88444)).R(process.env.RESEND_API_KEY),g=process.env.EMAIL_FROM,p=async e=>{if(!process.env.RESEND_API_KEY||!g){let e="Email service is not configured. Please set RESEND_API_KEY and EMAIL_FROM environment variables.";return console.error(e),{success:!1,error:Error(e)}}try{let r=e.from||g,{data:t,error:s}=await f.emails.send({from:r,to:e.to,subject:e.subject,html:e.html});if(s)return console.error("Error sending email:",s),{success:!1,error:s};if(!t){let e=Error("Email sending failed without an explicit error.");return console.error(e),{success:!1,error:e}}return console.log("Email sent successfully:",t.id),{success:!0,data:t}}catch(e){return console.error("An unexpected error occurred in sendEmail:",e),{success:!1,error:e}}},y=new s.Schema({email:{type:String,required:!0},token:{type:String,required:!0,unique:!0},expiresAt:{type:Date,required:!0,expires:"1h"}}),x=a().models.PasswordResetToken||a().model("PasswordResetToken",y);var v=t(2608);v.z.object({name:v.z.string().min(3,{message:"Name must be at least 3 characters long"}),email:v.z.string().email({message:"Invalid email address"}),password:v.z.string().min(6,{message:"Password must be at least 6 characters long"})}),v.z.object({email:v.z.string().email({message:"Invalid email address"}),password:v.z.string().min(1,{message:"Password is required"})});let b=v.z.object({name:v.z.string().min(3).optional(),email:v.z.string().email().optional()});v.z.object({password:v.z.string().min(6,{message:"Password must be at least 6 characters long"})})},26751:()=>{}};