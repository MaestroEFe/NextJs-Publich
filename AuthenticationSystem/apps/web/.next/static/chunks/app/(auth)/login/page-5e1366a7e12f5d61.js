(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{5242:function(e,r,s){Promise.resolve().then(s.bind(s,1868))},1868:function(e,r,s){"use strict";s.r(r);var t=s(5979),a=s(8584),n=s(9182),l=s(8104),i=s(1655),o=s(917),d=s(3578);r.default=()=>{let[e,r]=(0,a.useState)(""),s=(0,l.useRouter)(),u=async e=>{r("");try{let t=await (0,n.signIn)("credentials",{email:e.email,password:e.password,redirect:!1});if(null==t?void 0:t.error){r("Invalid credentials");return}s.replace("/dashboard")}catch(e){r("Something went wrong!")}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Login"}),(0,t.jsx)(d.Z,{formType:"login",onSubmit:u,schema:o.dm,apiError:e}),(0,t.jsxs)("p",{className:"mt-4 text-center",children:["Don't have an account?"," ",(0,t.jsx)(i.default,{href:"/register",className:"text-blue-500 hover:underline",children:"Register"})]}),(0,t.jsx)("p",{className:"mt-2 text-center",children:(0,t.jsx)(i.default,{href:"/forgot-password",className:"text-sm text-blue-500 hover:underline",children:"Forgot Password?"})})]})}},3578:function(e,r,s){"use strict";var t=s(5979),a=s(8584);r.Z=e=>{let{formType:r,onSubmit:s,schema:n,apiError:l}=e,[i,o]=(0,a.useState)({}),[d,u]=(0,a.useState)(null),m=e=>{o({...i,[e.target.name]:e.target.value})},c=async e=>{e.preventDefault(),u(null);let r=n.safeParse(i);if(!r.success){u(r.error);return}await s(r.data)};return(0,t.jsxs)("form",{onSubmit:c,className:"space-y-4",children:["register"===r&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",children:"Name"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",onChange:m,className:"w-full p-2 border border-gray-300 rounded"}),(null==d?void 0:d.flatten().fieldErrors.name)&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:d.flatten().fieldErrors.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",onChange:m,className:"w-full p-2 border border-gray-300 rounded"}),(null==d?void 0:d.flatten().fieldErrors.email)&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:d.flatten().fieldErrors.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",onChange:m,className:"w-full p-2 border border-gray-300 rounded"}),(null==d?void 0:d.flatten().fieldErrors.password)&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:d.flatten().fieldErrors.password})]}),l&&(0,t.jsx)("p",{className:"text-red-500",children:l}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"login"===r?"Login":"Register"})]})}},8104:function(e,r,s){"use strict";var t=s(1922);s.o(t,"useParams")&&s.d(r,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},917:function(e,r,s){"use strict";s.d(r,{dm:function(){return n},gY:function(){return a},S4:function(){return i},gV:function(){return l}});var t=s(1883);let a=t.z.object({name:t.z.string().min(3,{message:"Name must be at least 3 characters long"}),email:t.z.string().email({message:"Invalid email address"}),password:t.z.string().min(6,{message:"Password must be at least 6 characters long"})}),n=t.z.object({email:t.z.string().email({message:"Invalid email address"}),password:t.z.string().min(1,{message:"Password is required"})}),l=t.z.object({name:t.z.string().min(3).optional(),email:t.z.string().email().optional()}),i=t.z.object({password:t.z.string().min(6,{message:"Password must be at least 6 characters long"})})}},function(e){e.O(0,[655,883,182,232,922,744],function(){return e(e.s=5242)}),_N_E=e.O()}]);